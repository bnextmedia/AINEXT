{{- $title := site.Title }}
{{- $logoText := printf "%s %s" $title (T "logo") }}
{{- $logo := trim site.Params.logo " " }}
{{- $logoDark := trim site.Params.logoDark " " }}
<header class="nav">
  <nav class="nav-menu">
    <a href={{ absURL "" }} class="nav-brand nav_item">
      {{- if and $logo (ne $logo "") }}
        <img src="{{ $logo }}" alt="{{ $logoText }}" class="logo-light" width="130px" />
        {{- if and $logoDark (ne $logoDark "") }}
        <img src="{{ $logoDark }}" alt="{{ $logoText }}" class="logo-dark" width="130px" />
        {{- end }}
      {{- else }}
        {{ $title }}
      {{- end -}}
    </a>
    
    {{/* Desktop menu - visible on larger screens */}}
    <div class="nav-links">
      {{- range site.Data.menu }}
        <a href="{{ absURL .url }}" class="nav-link">{{ .item }}</a>
      {{- end }}
    </div>
    
    <div class="nav_bar-wrap">
      <div class="nav_bar"></div>
    </div>
  </nav>
</header>

<style>
/* Desktop navigation links */
.nav-links {
  display: flex;
  flex-direction: row;
  gap: 1.5rem;
  align-items: center;
  white-space: nowrap;
}

.nav-link {
  color: var(--text);
  text-decoration: none;
  font-size: 0.95rem;
  padding: 0.5rem 0;
  transition: color 0.2s ease;
}

.nav-link:hover {
  color: var(--theme);
}

/* Hide hamburger menu on desktop */
@media (min-width: 768px) {
  .nav_bar-wrap {
    display: none;
  }
}

/* Show hamburger menu on mobile, hide nav-links */
@media (max-width: 767px) {
  .nav-links {
    display: none;
  }
  
  .nav_bar-wrap {
    display: grid;
  }
}

/* Logo switching for dark mode */
.logo-dark {
  display: none;
}

html[data-mode="dark"] .logo-light {
  display: none;
}

html[data-mode="dark"] .logo-dark {
  display: block;
}

/* Auto dark mode detection */
@media (prefers-color-scheme: dark) {
  html:not([data-mode="light"]) .logo-light {
    display: none;
  }
  
  html:not([data-mode="light"]) .logo-dark {
    display: block;
  }
}

/* Fix header overlap with content */
.nav {
  position: relative !important;
  background: var(--bg);
  padding: 0.5rem 0;
  border-bottom: 1px solid var(--border);
}

.mt {
  margin-top: 2rem !important;
}

/* Ensure post page has proper spacing */
.post {
  padding-top: 1rem;
}

.post_date {
  margin-top: 0;
}
</style>
