---
title: "從 Code Search 到 AI Agent：Sourcegraph 創辦人如何用 Amp Code 開啟下一局"
date: 2025-12-25T15:00:00+08:00
description: "Sourcegraph 創辦人 Beyang Liu 打造的 Amp Code，不只是另一個 coding agent。這款產品的設計決策——從 sub-agent 架構到終端機廣告補貼——反映了一個深耕程式碼搜尋十年的團隊，對開發者工作流的獨特理解。"
tags: ["Amp Code", "Sourcegraph", "Beyang Liu", "Coding Agent", "Quinn Slack"]
categories: ["AI 技術前沿"]
source_url: "https://www.youtube.com/watch?v=gvIAkmZUEZY"
source_name: "AI Engineer World's Fair"
draft: false
---

> 本文整理自 Beyang Liu 在 AI Engineer World's Fair 的演講。

{{< youtube gvIAkmZUEZY >}}

---

如果你在過去幾年接觸過「程式碼搜尋」這個領域，你大概聽過 Sourcegraph。這家由史丹佛畢業生 Quinn Slack 和 Beyang Liu 於 2013 年創立的公司，專門解決一個問題：如何在超大型程式碼庫中快速找到你需要的東西。Uber、Dropbox、Lyft 都是他們的早期客戶。2021 年，Sourcegraph 以 26.25 億美元估值完成 D 輪融資，從 Andreessen Horowitz 和 Sequoia 手中募得超過兩億美元。

2025 年，這家公司推出了 Amp——一個 AI coding agent。在這個已經擁擠到令人眼花的市場裡，為什麼一家專做程式碼搜尋的公司要來參一腳？

## 從「幫你找程式碼」到「幫你寫程式碼」

要理解 Amp 的定位，你需要先理解 Sourcegraph 的核心能力是什麼。這家公司花了十幾年時間在思考一個問題：開發者如何理解大型程式碼庫？當你面對幾百萬行程式碼、分散在上百個 repository 時，你怎麼知道某個函數是在哪裡定義的、被哪些地方呼叫、最近被誰修改過？

Sourcegraph 的 Code Search 產品已經服務超過八十萬名開發者，索引了超過 540 億行程式碼。他們使用一種類似 Google PageRank 的演算法來排序搜尋結果，並支援超過 30 種程式語言。這種對「程式碼如何被組織和理解」的深度認識，直接影響了 Amp 的設計。

當大型語言模型開始能夠寫程式碼時，Sourcegraph 團隊意識到，他們已經花了十年在思考的問題——如何幫助開發者在海量程式碼中找到方向——正是 AI coding agent 最需要解決的核心挑戰之一。一個 agent 如果不知道怎麼在程式碼庫中導航、不知道怎麼找到相關的上下文，它就無法有效地完成任務。

這就是為什麼 Amp 的架構中有一個專門的 Finder sub-agent，使用快速的小模型搭配精心設計的工具集來搜尋程式碼庫。這不是隨便做的功能，這是 Sourcegraph 十年累積的 know-how。

## 「有觀點的」產品設計

Beyang Liu 在演講中反覆強調一個詞：opinionated（有觀點的）。這個詞在軟體產品設計中有特定的含義——它指的是產品做出明確的設計選擇，而不是把所有選項都留給使用者。

Amp 最明顯的「觀點」之一是不做模型選擇器。幾乎所有主流 coding agent 都讓你在各種大型語言模型之間切換——GPT-4、Claude、Gemini，你想用哪個就用哪個。這聽起來很彈性，但 Liu 認為這種彈性其實是一個架構陷阱。

當你要支援 N 種模型時，你的框架只能做「最大公約數」式的設計。每個模型都有不同的最佳使用方式，但你無法針對任何一個做深度最佳化。結果就是，你在每個模型上都表現平庸。

Amp 的做法是只提供兩種頂層 agent 模式：Smart 和 Rush。Smart 模式目前使用 Claude Opus 4.5，配備完整的 sub-agent 能力，適合複雜任務。Rush 模式則使用更快更便宜的模型，適合小型、明確定義的任務。與其給使用者無限的選擇，不如針對兩種最常見的使用情境做到極致。

另一個「觀點」是 Oracle sub-agent 的設計。大多數 agent 透過模型選擇來解決「需要深度推理」的場景——你想要更強的推理能力，就換一個 reasoning model。但 Amp 把 reasoning 能力做成一個專門的 sub-agent。主 agent 保持輕快，能快速回應日常任務；只有在遇到棘手問題時，才調用 Oracle 來「深度思考」。

Liu 分享了他自己的使用經驗：當遇到一個他本來要花一兩個小時 debug 的問題時，他會叫 Amp 調用 Oracle。有時候 Oracle 要跑好幾分鐘，但大約八成的機率能直接解決問題。

## 終端機裡放廣告？

Amp 最奇特的設計決策之一是在終端機和編輯器中放置廣告。這聽起來很瘋狂——開發者不是最討厭廣告的族群嗎？

但 Liu 解釋了背後的思考。他們觀察到，使用 coding agent 最大的障礙之一是成本。在大學校園裡，實際使用過 coding agent 的學生比例遠低於預期，主要原因就是每月 $20-50 的訂閱費對很多人來說是一筆負擔。

Amp 團隊的解法是建立一個開發者工具廣告網路。這些廣告都是其他開發者工具的推廣，被設計得非常低調（Liu 說他們試圖讓廣告「不顯眼」）。透過這些廣告收入，他們可以補貼 Rush 模式的推論成本，讓更多人能夠免費或低價體驗 coding agent。

2025 年推出的 Amp Free 計畫就是這個策略的體現——完全免費使用，由廣告支持，但仍然符合 Amp 的安全標準，用戶資料不會被用於模型訓練。

這個決策反映了一個更大的產品哲學：降低使用門檻比討好付費用戶更重要。如果你相信 AI coding agent 會根本性地改變開發者的工作方式，那麼讓更多人能夠體驗這個改變，比在短期內最大化收入更有戰略價值。

## 團隊學習的基礎建設

Amp 另一個有意思的設計是 Thread 分享功能。每一次你跟 Amp 的對話——你給的 prompt、agent 的回應、產生的程式碼修改——都可以被儲存成一個 thread，然後分享給團隊成員。

這個功能解決的是一個新出現的問題：怎麼學習使用 coding agent。傳統的程式開發有大量的書籍、課程、最佳實踐可以參考，但「怎麼跟 AI agent 協作」太新了，沒有標準答案。每個人都在摸索，而且每個人摸索出來的技巧都不一樣。

有了 thread 分享，團隊成員可以互相看對方是怎麼使用 agent 的。這種透明度讓整個團隊可以更快地收斂到有效的工作模式。Liu 提到，在 Amp 的團隊儀表板上，你甚至可以看到每個人用 Amp 改了多少程式碼——這不是為了監控，而是為了創造一種「我們都在學習這個新工具」的氛圍。

這個功能也反映了 Sourcegraph 的基因。作為一家專門做程式碼理解和搜尋的公司，他們很自然地會思考：怎麼讓「使用 AI agent」這件事本身變得可追蹤、可搜尋、可分享。

## 名人使用者與社群建設

Liu 在演講中特別提到了兩位使用者。一位是 Mitchell Hashimoto，HashiCorp（Terraform、Vagrant 等產品的公司）的共同創辦人，現在專注於開發 Ghostty 終端機。Hashimoto 使用 Amp 來開發 Ghostty。另一位是 Hamel Hussain，AI 評估（evals）領域的權威人士，他曾公開表示 Amp 是他最喜歡的 coding agent。

Liu 強調，這兩位都不是 Amp 團隊的成員，也沒有投資 Amp。他刻意提到這點，是想表達 Amp 不做付費的開發者網紅行銷。他們瞄準的是「想活在未來一年」的那一小群開發者，而不是大眾市場。

除了產品本身，Amp 團隊還建立了一個叫做 Build Crew 的社群。這個社群由 Ryan Carson 主持——Carson 之前創辦的 Treehouse 教過超過一百萬人寫程式。Build Crew 的定位是一個讓「用 agent 建造東西」的人互相交流的地方，無論你用的是不是 Amp。

這種社群建設的思路，與 Amp 把自己定位為「agentic research lab」是一致的。他們不只是在賣產品，而是在探索一個新領域，並且試圖把這個探索過程開放給更多人參與。

## 擁抱怪異

Liu 用一個很有意思的意象來描述 Amp 的精神：展位上有一個「騎著金魚的吹笛人」（Pied Piper）造型。這個看似莫名其妙的視覺設計，其實代表了他們想要傳達的訊息——擁抱這個時代的怪異和荒謬。

如果你想像一年前的工作方式和現在的工作方式，改變是劇烈的。Agent 寫的程式碼量越來越大，開發者的角色正在從「寫程式碼的人」變成「審核程式碼的人」。這種轉變既神奇又令人不安。

Liu 認為，面對這種轉變，最好的態度是「lean into the weird」——擁抱這種怪異，而不是試圖否認或抵抗它。Amp 團隊把自己定位為「活在未來一年」的研究實驗室，他們的工作就是去探索這些轉變會把我們帶向何方。

對於其他開發者工具的建造者來說，Amp 的故事提供了一個有趣的案例：當 AI 改變遊戲規則時，你十年累積的領域專業知識不一定會變得過時——它可能正是你進入新遊戲的最大優勢。
