// AINEXT V2 - 分類列表頁樣式
// Semafor 風格：3+4 有圖 + 4×3 純文字

@import "variables"

// ============================================
// 分類頁面容器
// ============================================

.category-page
  max-width: $max-width
  margin: 0 auto
  padding: $spacing-lg $spacing-md

// ============================================
// 標題區
// ============================================

.category-page__header
  text-align: center
  padding-bottom: $spacing-lg
  margin-bottom: $spacing-lg
  border-bottom: 3px solid $color-text

.category-page__title
  @include font-headline
  font-size: 2.5rem
  font-weight: $font-weight-regular
  margin-bottom: $spacing-xs

  @media (max-width: $breakpoint-md)
    font-size: 2rem

.category-page__count
  @include font-ui
  font-size: $font-size-small
  color: $color-text-light

// ============================================
// 通用排列行
// ============================================

.category-page__row
  margin-bottom: $spacing-lg
  padding-bottom: $spacing-lg
  border-bottom: 1px solid $color-divider

  &:last-child
    border-bottom: none

// ============================================
// 第一排：3 欄有圖文章
// ============================================

.category-page__row--3col
  display: grid
  grid-template-columns: repeat(3, 1fr)
  gap: $spacing-lg

  @media (max-width: $breakpoint-md)
    grid-template-columns: repeat(2, 1fr)

  @media (max-width: $breakpoint-sm)
    grid-template-columns: 1fr

  .article-card__title
    font-size: 1.25rem

  .article-card__excerpt
    font-size: $font-size-small
    // 最多 3 行
    display: -webkit-box
    -webkit-line-clamp: 3
    -webkit-box-orient: vertical
    overflow: hidden

// ============================================
// 第二排：4 欄有圖文章
// ============================================

.category-page__row--4col
  display: grid
  grid-template-columns: repeat(4, 1fr)
  gap: $spacing-md

  @media (max-width: $breakpoint-lg)
    grid-template-columns: repeat(2, 1fr)

  @media (max-width: $breakpoint-sm)
    grid-template-columns: 1fr

  .article-card__title
    font-size: 1.125rem

  .article-card__excerpt
    font-size: $font-size-small
    display: -webkit-box
    -webkit-line-clamp: 2
    -webkit-box-orient: vertical
    overflow: hidden

// ============================================
// 第三～五排：4 欄純文字（標題 + 摘要）
// ============================================

.category-page__row--text
  display: grid
  grid-template-columns: repeat(4, 1fr)
  gap: $spacing-md

  @media (max-width: $breakpoint-lg)
    grid-template-columns: repeat(2, 1fr)

  @media (max-width: $breakpoint-sm)
    grid-template-columns: 1fr

// 純文字項目
.category-page__text-item
  padding-bottom: $spacing-sm

.text-item
  display: block
  transition: $transition-base

  &:hover .text-item__title
    color: $color-accent

.text-item__title
  @include font-headline
  font-size: 1.125rem
  line-height: $line-height-tight
  margin-bottom: $spacing-xs
  transition: color 0.2s ease
  // 最多 3 行
  display: -webkit-box
  -webkit-line-clamp: 3
  -webkit-box-orient: vertical
  overflow: hidden

.text-item__excerpt
  @include font-body
  font-size: $font-size-small
  color: $color-text-light
  line-height: 1.5
  margin-bottom: $spacing-xs
  // 最多 2 行
  display: -webkit-box
  -webkit-line-clamp: 2
  -webkit-box-orient: vertical
  overflow: hidden

.text-item__meta
  @include font-ui
  font-size: $font-size-caption
  color: $color-text-light

.text-item__source
  color: $color-text-light

// ============================================
// 更多文章區（第 19 篇之後）
// ============================================

.category-page__more
  margin-top: $spacing-lg
  padding-top: $spacing-lg
  border-top: 3px solid $color-text

.category-page__more-title
  @include font-headline
  font-size: $font-size-h3
  font-weight: $font-weight-regular
  margin-bottom: $spacing-md

// 緊湊列表（沿用舊樣式）
.category-page__list
  display: flex
  flex-direction: column

.category-page__list-item
  border-bottom: 1px solid $color-divider

  &:last-child
    border-bottom: none

.list-item
  display: grid
  grid-template-columns: 1fr
  gap: $spacing-sm
  padding: $spacing-sm 0
  transition: $transition-base

  &:hover
    .list-item__title
      color: $color-accent

.list-item__body
  display: flex
  flex-direction: column
  gap: 4px
  min-width: 0

.list-item__title
  @include font-headline
  font-size: 1.125rem
  line-height: $line-height-tight
  transition: color 0.2s ease
  display: -webkit-box
  -webkit-line-clamp: 2
  -webkit-box-orient: vertical
  overflow: hidden

  @media (max-width: $breakpoint-sm)
    font-size: 1rem

.list-item__meta
  @include font-ui
  font-size: $font-size-caption
  color: $color-text-light
  display: flex
  align-items: center
  gap: $spacing-xs

.list-item__source
  &::before
    content: "·"
    margin-right: $spacing-xs
